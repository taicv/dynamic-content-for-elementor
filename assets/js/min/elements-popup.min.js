(function($){var WidgetElementsPopupHandler=function($scope,$){var get_dce_ElementSettings=function($element){var elementSettings={},modelCID=$element.data('model-cid');if(elementorFrontend.isEditMode()&&modelCID){var settings=elementorFrontend.config.elements.data[modelCID],settingsKeys=elementorFrontend.config.elements.keys[settings.attributes.widgetType||settings.attributes.elType];$.each(settings.getActiveControls(),function(controlKey){if(-1!==settingsKeys.indexOf(controlKey)){elementSettings[controlKey]=settings.attributes[controlKey]}})}else{elementSettings=$element.data('settings')||{}}
return elementSettings}
function dce_getCookie(cname){var name=cname+"=";var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1)}
if(c.indexOf(name)==0){return c.substring(name.length,c.length)}}
return""}
function dce_setCookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+(exdays*1000));var expires="expires="+d.toUTCString()+";";if(!exdays){expires=''}
document.cookie=cname+"="+cvalue+";"+expires+"path=/"}
function dce_show_modal(id_modal){var dce_popup_settings=get_dce_ElementSettings($scope);var open_delay=0;if(dce_popup_settings.open_delay){open_delay=dce_popup_settings.open_delay}
setTimeout(function(){push_actions();if(!elementorFrontend.isEditMode()){$('body').addClass('modal-open-'+id_modal).addClass('dce-modal-open');$('html').addClass('dce-modal-open')}
if(dce_popup_settings.wrapper_maincontent){$(dce_popup_settings.wrapper_maincontent).addClass('dce-push').addClass('animated').parent().addClass('perspective')}
$('#'+id_modal).show();$('#'+id_modal+'-background').show().removeClass('fadeOut').addClass('fadeIn')},open_delay)}
function dce_hide_modal(id_modal){var dce_popup_settings=get_dce_ElementSettings($scope);console.log('set cookie for: '+id_modal);if(!dce_popup_settings.always_visible){dce_setCookie(id_modal,1,dce_popup_settings.cookie_lifetime)}
var settings_close_delay=0;if(dce_popup_settings.close_delay){settings_close_delay=dce_popup_settings.close_delay}
$('body').removeClass('modal-open-'+id_modal);$('body').addClass('modal-close-'+id_modal);$('#'+id_modal+'-background').one('webkitAnimationEnd oanimationend msAnimationEnd animationend',function(el){$('#'+id_modal+'-background').hide();$(el.currentTarget).off('webkitAnimationEnd oanimationend msAnimationEnd animationend')});$('#'+id_modal+' .modal-dialog').one('webkitAnimationEnd oanimationend msAnimationEnd animationend',function(el){$('#'+id_modal).hide();$(el.currentTarget).off('webkitAnimationEnd oanimationend msAnimationEnd animationend');setTimeout(function(){if(!elementorFrontend.isEditMode()){$('body').removeClass('modal-close-'+id_modal).removeClass('dce-modal-open');$('html').removeClass('dce-modal-open')}
if(dce_popup_settings.wrapper_maincontent)$(dce_popup_settings.wrapper_maincontent).removeClass('dce-push').removeClass('animated').parent().removeClass('perspective')},300)});setTimeout(function(){$('#'+id_modal+'-background').removeClass('fadeIn').addClass('fadeOut')},settings_close_delay)}
var elementSettings=get_dce_ElementSettings($scope);var modal=$scope.find('.dce-popup-container');function push_actions(){if(!elementorFrontend.isEditMode()){$(modal).prependTo("body")}}
$('.dce-popup-onload').each(function(){var dce_popup_settings=get_dce_ElementSettings($scope);var id_modal=$(this).find('.dce-modal').attr('id');var cookie_popup=dce_getCookie(id_modal);if(dce_popup_settings.always_visible){cookie_popup=!1}
if(!cookie_popup){dce_show_modal(id_modal)}else{}});$(document).on('click','.dce-button-open-modal, .dce-button-next-modal',function(){var id_modal=$(this).data('target')
dce_show_modal(id_modal)});$('.dce-popup-widget').each(function(){var id_modal=$(this).find('.dce-modal').attr('id');var dce_popup_settings=get_dce_ElementSettings($scope);var cookie_popup=dce_getCookie(id_modal);if(dce_popup_settings.always_visible){cookie_popup=!1}
if(cookie_popup){$(this).removeClass('dce-popup-widget')}});if($('.dce-popup-widget').length){$(window).on('load scroll resize',function(){$('.dce-popup-widget').each(function(){if($(this).visible()){$(this).removeClass('dce-popup-widget');var id_modal=$(this).find('.dce-modal').attr('id');dce_show_modal(id_modal)}})})}
if($('.dce-popup-scroll').length){$(window).on('scroll',function(){$('.dce-popup-scroll').each(function(){var dce_popup_settings=get_dce_ElementSettings($scope);if($(window).scrollTop()>dce_popup_settings.scroll_display_displacement){$(this).removeClass('dce-popup-scroll');var id_modal=$(this).find('.dce-modal').attr('id');dce_show_modal(id_modal)}})})}
$(window).on('scroll',function(){$('.modal-hide-on-scroll:visible').each(function(){$(this).removeClass('modal-hide-on-scroll');dce_hide_modal($(this).attr('id'))})});$(document).on('keyup',function(evt){if(evt.keyCode==27){$('.modal-hide-esc:visible').each(function(){dce_hide_modal($(this).attr('id'))})}});$(document).on('click','.dce-modal .dce-modal-close, .dce-button-close-modal, .dce-modal .dce-button-next-modal',function(){dce_hide_modal($(this).closest('.dce-modal').attr('id'))});$(document).on('click','.dce-modal-background-layer-close',function(){dce_hide_modal($(this).attr('data-target'))})}
$(window).on('elementor/frontend/init',function(){elementorFrontend.hooks.addAction('frontend/element_ready/dyncontel-popup.default',WidgetElementsPopupHandler)})})(jQuery)