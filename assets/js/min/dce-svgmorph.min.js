(function($){var WidgetElements_SvgMorphHandler=function($scope,$){var elementSettings=get_Dyncontel_ElementSettings($scope);var id_scope=$scope.attr('data-id');var forma=elementSettings.type_of_shape;var step=0;var run=$('#dce-svg-'+id_scope).attr('data-run');var is_running=!1;var ripetitore='repeater_shape_'+forma;eval('var repeaterShape = elementSettings.'+ripetitore);var contentElemsTotal=repeaterShape.length;var numberOfElements=repeaterShape.length;var shapes=[];var delayStart=100;var dceshape="#forma-"+id_scope;var dceshape_svg="#dce-svg-"+id_scope;if(tl)tl.kill($(dceshape));var tl=null;tl=new TimelineMax();if(tlpos)tlpos.kill($(dceshape_svg));var tlpos=null;tlpos=new TimelineMax();var dceshape_delay=elementSettings.duration_morph.size||2,dceshape_speed=elementSettings.speed_morph.size||1;var easing_morph_ease=elementSettings.easing_morph_ease||'Power3',easing_morph=elementSettings.easing_morph||'easeInOut';var repeat_morph=elementSettings.repeat_morph||-1;if(transitionTl)transitionTl.kill($(dceshape));var transitionTl=null;if(transitionTl)transitionTlpos.kill($(dceshape_svg));var transitionTlpos=null;var get_data_anim=function(){var duration_anim=elementSettings.duration_morph.size||3;var speed_anim=elementSettings.speed_morph.size||1;easing_morph_ease=elementSettings.easing_morph_ease;easing_morph=elementSettings.easing_morph;repeat_morph=elementSettings.repeat_morph||-1;dceshape_delay=duration_anim;dceshape_speed=speed_anim}
var get_data_shape=function(){shapes=[];var ciccio=[];if(elementorFrontend.isEditMode()){ciccio=repeaterShape.models}else{ciccio=repeaterShape}
var old_points='';$.each(ciccio,function(i,el){var pippo=[];if(elementorFrontend.isEditMode()){pippo=repeaterShape.models[i].attributes}else{pippo=repeaterShape[i]}
var id_shape=pippo.id_shape;var points=pippo.shape_numbers;if(points==''){points=old_points}
old_points=points;var fillColor=pippo.fill_color;var strokeColor=pippo.stroke_color;var strokeWidth=pippo.stroke_width.size||0;var shapeX=pippo.shape_x.size||0;var shapeY=pippo.shape_y.size||0;var dceshape_delay=elementSettings.duration_morph.size||2,dceshape_speed=elementSettings.speed_morph.size||1;var objRep={points:points,path:{duration:pippo.duration_morph.size,speed:pippo.speed_morph.size,easing:pippo.easing_morph_ease,morph:pippo.easing_morph,elasticity:600,},fill:{color:fillColor,},stroke:{width:strokeWidth,color:strokeColor},svg:{x:shapeX,y:shapeY,rotation:0,elasticity:600}}
shapes.push(objRep)})}
var getCustomData_speed=function(i){if(shapes[i].path.speed){dceshape_speed=shapes[i].path.speed}else{dceshape_speed=elementSettings.speed_morph.size}
console.log(dceshape_speed);return dceshape_speed}
var getCustomData_duration=function(i){if(shapes[i].path.duration){dceshape_delay=shapes[i].path.duration}else{dceshape_delay=elementSettings.duration_morph.size}
return dceshape_delay}
var getCustomData_easing=function(i){if(shapes[i].path.easing){easing_morph_ease=shapes[i].path.easing}else{easing_morph_ease=elementSettings.easing_morph_ease}
return easing_morph_ease}
var getCustomData_morph=function(i){if(shapes[i].path.morph){easing_morph=shapes[i].path.morph}else{easing_morph=elementSettings.easing_morph}
return easing_morph}
var animateShapes=function(){if($("#forma-"+id_scope).length){var tweenSVG='tlpos';var tweenString='tl';$.each(shapes,function(i,el){if(i>0){tweenString+='.to("'+dceshape+'", '+getCustomData_speed(i)+', {onComplete: myFunction1, onCompleteParams:['+i+'], morphSVG:`'+shapes[i].points+'`, ease: '+getCustomData_easing(i)+'.'+getCustomData_morph(i)+', fill:"'+shapes[i].fill.color+'", strokeWidth:'+shapes[i].stroke.width+', stroke:"'+shapes[i].stroke.color+'"}, "+='+getCustomData_duration(i)+'")';tweenSVG+='.to("'+dceshape_svg+'", '+getCustomData_speed(i)+', {x:'+shapes[i].svg.x+',y:'+shapes[i].svg.y+', ease: '+getCustomData_easing(i)+'.'+getCustomData_morph(i)+'}, "+='+getCustomData_duration(i)+'")'}});tweenString+='.to("'+dceshape+'", '+getCustomData_speed(0)+', {onComplete: myFunction1, onCompleteParams:[0], morphSVG:`'+shapes[0].points+'`, ease: '+getCustomData_easing(0)+'.'+getCustomData_morph(0)+', fill:"'+shapes[0].fill.color+'", strokeWidth:'+shapes[0].stroke.width+', stroke:"'+shapes[0].stroke.color+'"}, "+='+getCustomData_duration(0)+'")';tweenString+=';';tweenSVG+='.to("'+dceshape_svg+'", '+getCustomData_speed(0)+', {x:'+shapes[0].svg.x+',y:'+shapes[0].svg.y+', ease: '+getCustomData_easing(0)+'.'+getCustomData_morph(0)+'}, "+='+getCustomData_duration(0)+'")';tweenSVG+=';'}
eval(tweenString);eval(tweenSVG);is_running=!0;if(run=='paused'&&elementorFrontend.isEditMode()){tl.stop();tlpos.stop();is_running=!1}
tl.repeat(repeat_morph);tlpos.repeat(repeat_morph)}
var myFunction=function(a,b){}
var myFunction1=function(id_step){$('#dce-svg-'+id_scope).attr('data-morphid',id_step)}
var myFunction2=function(id_step){if(transitionTl)transitionTl.kill($(dceshape));if(transitionTlpos)transitionTl.kill($(dceshape_svg))}
var updateSlider=function(){}
var playShapeEl=function(){transitionTl=new TimelineMax();transitionTlpos=new TimelineMax();function repeatOften(){if(run!=$('#dce-svg-'+id_scope).attr('data-run')){get_data_anim();run=$('#dce-svg-'+id_scope).attr('data-run');if(run=='running'){tl.play();tlpos.play();is_running=!0}else{tl.stop();tlpos.stop();is_running=!1}}
if(!is_running){if(step!=$('#dce-svg-'+id_scope).attr('data-morphid')){step=$('#dce-svg-'+id_scope).attr('data-morphid');get_data_shape();if(typeof shapes[step]!=="undefined"){var tweenString='transitionTl.to("'+dceshape+'", '+getCustomData_speed(step)+', {onComplete: myFunction2, onCompleteParams:['+step+'], morphSVG:`'+shapes[step].points+'`, ease: '+getCustomData_easing(step)+'.'+getCustomData_morph(step)+', fill:"'+shapes[step].fill.color+'", strokeWidth:'+shapes[step].stroke.width+', stroke:"'+shapes[step].stroke.color+'"});';var tweenStringPos='transitionTlpos.to("'+dceshape_svg+'", '+getCustomData_speed(step)+', {x:'+shapes[step].svg.x+', y:'+shapes[step].svg.y+', ease: '+getCustomData_easing(step)+'.'+getCustomData_morph(step)+'});';eval(tweenStringPos);eval(tweenString)}}}
requestAnimationFrame(repeatOften)}
requestAnimationFrame(repeatOften)}
if(!elementorFrontend.isEditMode()&&contentElemsTotal>1){$('#dce-svg-'+id_scope).attr('data-run','running')}
setTimeout(function(){get_data_anim();get_data_shape();animateShapes()},delayStart);if(elementorFrontend.isEditMode()&&contentElemsTotal>1)playShapeEl()};$(window).on('elementor/frontend/init',function(){elementorFrontend.hooks.addAction('frontend/element_ready/dyncontel-svgmorphing.default',WidgetElements_SvgMorphHandler)})})(jQuery)